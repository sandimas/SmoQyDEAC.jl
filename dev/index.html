<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · SmoQyDEAC.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://sandimas.github.io/SmoQyDEAC.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>SmoQyDEAC.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li class="toplevel"><a class="tocitem" href="#Running-SmoQyDEAC"><span>Running SmoQyDEAC</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li><li><a class="tocitem" href="#Kernels"><span>Kernels</span></a></li><li class="toplevel"><a class="tocitem" href="#Multithreading"><span>Multithreading</span></a></li><li><a class="tocitem" href="#Tips,-tricks-and-caveats"><span>Tips, tricks and caveats</span></a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="examples/fermion_greens/">Example 1: Fermion Greens function</a></li></ul></li><li><a class="tocitem" href="derivations/">Derivations</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/sandimas/SmoQyDEAC.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="About-the-Package"><a class="docs-heading-anchor" href="#About-the-Package">About the Package</a><a id="About-the-Package-1"></a><a class="docs-heading-anchor-permalink" href="#About-the-Package" title="Permalink"></a></h1><p>SmoQyDEAC utilizes the Differential Evolution for Analytic Continuation algorithm developed by Nathan S. Nichols, Paul Sokol, and Adrian Del Maestro <a href="https://arxiv.org/abs/2201.04155">arXiv:2201.04155</a>.</p><p>This package takes imaginary time correlation functions from condensed matter Monte Carlo simulations and provides the associated spectral function on the real axis. </p><h1 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h1><p><strong>NOTE</strong>: This package is in the experimental phase of development and is not yet published to the Julia <a href="https://github.com/JuliaRegistries/General.git"><code>General</code></a> registry.</p><p>Open a Julia REPL environment and run the following command:</p><pre><code class="language-julia hljs">] dev https://github.com/sandimas/SmoQyDEAC.jl</code></pre><p>This command clones the <a href="https://github.com/sandimas/SmoQyDEAC.jl"><code>SmoQyDEAC.jl</code></a> repository to the hidden direcotry <code>.julia/dev</code> that exists in the same directory where Julia is installed.</p><h1 id="Running-SmoQyDEAC"><a class="docs-heading-anchor" href="#Running-SmoQyDEAC">Running SmoQyDEAC</a><a id="Running-SmoQyDEAC-1"></a><a class="docs-heading-anchor-permalink" href="#Running-SmoQyDEAC" title="Permalink"></a></h1><p>SmoQyDEAC has a simple API interface with a single callable function <code>DEAC</code>.</p><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><ul><li><a href="#SmoQyDEAC.DEAC"><code>DEAC</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="SmoQyDEAC.DEAC" href="#SmoQyDEAC.DEAC"><code>SmoQyDEAC.DEAC</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">DEAC(correlation_function::AbstractVector,
     correlation_function_error::AbstractVector,
     β::Float64,
     input_grid::Vector{Float64},
     out_ωs::Vector{Float64},
     kernel_type::String,
     num_bins::Int64,
     runs_per_bin::Int64,
     output_file::String,
     checkpoint_directory::String;

     population_size::Int64=8,
     base_seed::Integer=8675309,
     stop_minimum_fitness::Float64=1.0,
     number_of_generations::Int64=100000,
     keep_bin_data=true,
     autoresume_from_checkpoint=true,
     
     crossover_probability::Float64=0.9,
     self_adapting_crossover_probability::Float64=0.1,
     differential_weight::Float64=0.9,
     self_adapting_differential_weight_probability::Float64=0.1,
     self_adapting_differential_weight::Float64=0.9)</code></pre><p>Runs the DEAC algorithm on data passed in <code>correlation_function</code> using <span>$\Chi^2$</span> fitting from the error passed in by <code>correlation_function_error</code>.</p><p><strong>Arguments</strong></p><ul><li><code>correlation_function::AbstractVector</code>: Input data in τ space </li><li><code>correlation_function_error::AbstractVector</code>: Error associated with input data</li><li><code>β::Float64</code>: Inverse temperature</li><li><code>input_grid::Vector{Float64}</code>: Evenly spaced values in τ from 0 to β, including end points</li><li><code>out_ωs::Vector{Float64}</code>: Energies for AC output</li><li><code>kernel_type::String</code>: See below for allowable kernels</li><li><code>num_bins::Int64</code>: Bins to generate</li><li><code>runs_per_bin::Int64</code>: Number of runs per bin for statistics</li><li><code>output_file::String</code>: File to store output dictionary. jld2 format recommended</li><li><code>checkpoint_directory::String</code>: Directory to store checkpoint data. </li></ul><p><strong>Optional Arguments</strong></p><ul><li><code>population_size::Int64=8</code>: DEAC population size. Must be ≥ 6</li><li><code>base_seed::Int64=8675309</code>: Seed</li><li><code>stop_minimum_fitness::Float64=1.0</code>: Value below which fit is considered good</li><li><code>number_of_generations::Int64=100000</code>: Maximum number of mutation loops</li><li><code>keep_bin_data::Bool=true</code>: Save binned data or not</li><li><code>autoresume_from_checkpoint::Bool=true</code>: Resume from checkpoint if possible</li></ul><p><strong>Optional algorithm arguments</strong></p><ul><li><code>crossover_probability::Float64=0.9</code>: Starting likelihood of crossover</li><li><code>self_adapting_crossover_probability::Float64=0.1</code>: Chance of crossover probability changing</li><li><code>differential_weight::Float64=0.9</code>: Weight for second and third mutable indices</li><li><code>self_adapting_differential_weight_probability::Float64=0.1</code>: Likelihood of SAD changing</li><li><code>self_adapting_differential_weight::Float64=0.9</code>: SAD</li></ul><p>Each run will use its own seed. E.g. if you run 10 bins with 100 runs per bin, you will use seeds <code>base_seed:base_seed+999</code>.  You may increment your base seed by 1000, use another output file name, and generate more statistics later.</p><p><strong>Output</strong></p><p>SmoQyDEAC will save a dictionary to the file name passed via the <code>output_file</code> argument. The same dictionary will be returned by the function.</p><p><strong>Checkpointing</strong></p><p>SmoQyDEAC will place a file named <code>DEAC_checkpoint.jld2</code> in the directory passed in <code>checkpoint_directory</code>. After completing every bin this file will be saved. After the last bin is finished the file will be deleted. When <code>autoresume_from_checkpoint=true</code> SmoQyDEAC will attempt to resume from the checkpoint.  If the arguments passed do not match those in the checkpoint the code will exit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sandimas/SmoQyDEAC.jl">source</a></section></article><h2 id="Kernels"><a class="docs-heading-anchor" href="#Kernels">Kernels</a><a id="Kernels-1"></a><a class="docs-heading-anchor-permalink" href="#Kernels" title="Permalink"></a></h2><p>For now there are three supported kernels</p><ul><li><code>time_fermionic</code><span>$=\frac{1}{2}\frac{e^{-\tau\omega}}{1+e^{-\beta\omega}}$</span></li><li><code>time_bosonic</code><span>$=\frac{1}{2}\frac{e^{-\tau\omega}}{1-e^{-\beta\omega}}$</span></li><li><code>time_bosonic_symmetric</code><span>$=\frac{1}{2}\frac{e^{-\tau\omega}+e^{-(\beta-\tau)\omega}}{1-e^{-\beta\omega}}$</span></li></ul><h1 id="Multithreading"><a class="docs-heading-anchor" href="#Multithreading">Multithreading</a><a id="Multithreading-1"></a><a class="docs-heading-anchor-permalink" href="#Multithreading" title="Permalink"></a></h1><p>SmoQyDEAC utilizes Julia&#39;s <code>Threads.@threads</code> multithreading capability. To take advantage of this run your code using  <code>$ julia --threads=auto yourscript.jl</code> <code>auto</code> will automatically use any available cores or hyperthreads. You can set the value to a fixed number as you wish.</p><h2 id="Tips,-tricks-and-caveats"><a class="docs-heading-anchor" href="#Tips,-tricks-and-caveats">Tips, tricks and caveats</a><a id="Tips,-tricks-and-caveats-1"></a><a class="docs-heading-anchor-permalink" href="#Tips,-tricks-and-caveats" title="Permalink"></a></h2><ul><li>You will likely never need to adjust any of the Optional Algorithm Arguments from the default. Many are merely initial values and will be updated stochastically early and often in the code.</li><li>The DEAC algorithm can have edge effects where it places spectral weight on the first or last ω point. This occurs when there is spectral weight just outside of your range of ωs. The solution is simply expanding the range of your output energies.</li><li>For bosonic correlations SmoQyDEAC returns the spectral function, e.g. <span>$B(\omega)$</span> not <span>$\frac{B(\omega)}{\omega}$</span> as some MaxEnt codes do.</li><li>Different simulation codes may report correlation functions slightly differently. E.g. for <a href="https://github.com/SmoQySuite/SmoQyDQMC.jl"><code>SmoQyDQMC</code></a> <code>phonon_greens</code> <span>$=\langle X(\tau)X(0)\rangle$</span> not the actual phonon green&#39;s function of <span>$-2\Omega_0\langle X(\tau)X(0)\rangle$</span>. While the negative sign will cancel out by our choice of Kernel, you may need to postprocess the spectral function you recover. In this case <span>$B\rightarrow \dfrac{B}{2\Omega_0}$</span></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="examples/fermion_greens/">Example 1: Fermion Greens function »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 28 June 2023 13:53">Wednesday 28 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
